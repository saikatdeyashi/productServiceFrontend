<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Create Product</title>
  <link rel="stylesheet" href="css/styleForm.css">
</head>

<body>
  <form action="#" method="post" class="create">
    <fieldset class="box">
      <legend>Create your own product</legend>
      <label class="fields">Title :</label> <br />
      <input name="title" class="input" placeholder="Product Title" /> <br />
      <label class="fields">Image Link :</label> <br />
      <input name="image" class="input" placeholder="ImageUrl" /> <br />
      <label class="fields">Description :</label> <br />
      <input name="description" class="input" placeholder="Short description" /> <br />
      <label class="fields">Category :</label> <br />
      <input name="category" class="input" placeholder="Category of the Product" /> <br />
      <label class="fields">Price :</label> <br />
      <input name="price" class="input" placeholder="Price of the product" /> <br />
      <center>
        <button class="click" type="submit"> Submit</button>
      </center>

    </fieldset>
  </form>

  <script>
    let form = document.querySelector('form');
    form.addEventListener('submit', handleSubmit);


    function handleSubmit(event) {
      event.preventDefault();
      let formData = new FormData(form);
      let data = Object.fromEntries(formData);
      let jsonData = JSON.stringify(data);

      fetch('https://saikat-product-services-f1726f7df2c4.herokuapp.com/products', {
          method: "POST",
          headers: {
            'Content-Type': 'application/json'
          },
          body: jsonData
        }).then(res => res.json())
        .then(json => console.log(json))
    }
  </script>
  
</body>
